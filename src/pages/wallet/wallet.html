<ion-header class="bg-theme">
    <ion-navbar>
        <ion-title>{{"my_wallet" | translate}}</ion-title>
    </ion-navbar>
    <div text-center padding>
        <p>
            <small class="text-white">
                {{"total_balance" | translate}}
            </small>
        </p>
        <h1 class="text-white">{{currency}} {{user.wallet.balance}}</h1>
        <ion-row>
            <ion-col>
                <button class="btn text-white bg-yellow rounded" (click)="addMoneyPage()">
                    {{"add_money" | translate}}
                </button>
            </ion-col>
            <ion-col>
                <button class="btn text-theme bg-white rounded" (click)="transferMoney()">
                    {{"send_money" | translate}}
                </button>
            </ion-col>
        </ion-row>
    </div>
</ion-header>

<ion-content class="bg-light">
    <div class="empty-view" *ngIf="!walletHistory || !walletHistory.length">
        <div style="text-align:center">
            <img src="assets/imgs/empty_reviews.png" alt="no offers" />
            <span style="color:#9E9E9E; font-weight:bold;">
                {{'empty_wallet' | translate}}
            </span>
        </div>
    </div>
    <ion-list>
        <ion-card *ngFor="let wh of walletHistory">
            <ion-item>
                <ion-avatar item-start>
                    <img *ngIf="wh.ride && wh.ride.provider.user.image_url"
                        data-src="{{wh.ride.provider.user.image_url}}">
                    <img *ngIf="!wh.ride || !wh.ride.provider.user.image_url" src="assets/imgs/logo2.png">
                </ion-avatar>
                <div class="name">
                    <h2>
                        <span>{{wh.title}}</span>
                        <span class="end">
                            {{currency}}
                            {{wh.amount}}
                        </span>
                    </h2>
                    <h3>{{wh.created_at}}</h3>
                    <p>
                        <span>{{wh.description}}</span>
                        <span *ngIf="wh.ride && wh.ride.provider" class="end">
                            {{wh.ride.provider.user.name}}
                        </span>
                    </p>
                </div>
            </ion-item>
        </ion-card>
    </ion-list>
</ion-content>